<Window x:Class="HorseRace.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Конные скачки" Height="500" Width="900"
        Background="#F0F0F0">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="80"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Панель управления -->
        <Border Grid.Row="0" Background="#2C3E50" Padding="20">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                <Button x:Name="StartButton"
                        Content="🏁 СТАРТ"
                        Width="150"
                        Height="40"
                        FontSize="18"
                        FontWeight="Bold"
                        Background="#27AE60"
                        Foreground="White"
                        BorderThickness="0"
                        Cursor="Hand"
                        Click="StartButton_Click">
                    <Button.Resources>
                        <Style TargetType="Border">
                            <Setter Property="CornerRadius" Value="5"/>
                        </Style>
                    </Button.Resources>
                </Button>
                <Button x:Name="ResetButton"
                        Content="🔄 СБРОС"
                        Width="150"
                        Height="40"
                        FontSize="18"
                        FontWeight="Bold"
                        Background="#E74C3C"
                        Foreground="White"
                        BorderThickness="0"
                        Margin="20,0,0,0"
                        Cursor="Hand"
                        Click="ResetButton_Click">
                    <Button.Resources>
                        <Style TargetType="Border">
                            <Setter Property="CornerRadius" Value="5"/>
                        </Style>
                    </Button.Resources>
                </Button>
            </StackPanel>
        </Border>

        <!-- Беговая дорожка -->
        <Canvas x:Name="RaceTrack" Grid.Row="1" Background="White" Margin="10">
            <!-- Линии дорожек -->
            <Rectangle Canvas.Left="0" Canvas.Top="0" Width="860" Height="1" Fill="#BDC3C7"/>
            <Rectangle Canvas.Left="0" Canvas.Top="72" Width="860" Height="1" Fill="#BDC3C7"/>
            <Rectangle Canvas.Left="0" Canvas.Top="144" Width="860" Height="1" Fill="#BDC3C7"/>
            <Rectangle Canvas.Left="0" Canvas.Top="216" Width="860" Height="1" Fill="#BDC3C7"/>
            <Rectangle Canvas.Left="0" Canvas.Top="288" Width="860" Height="1" Fill="#BDC3C7"/>
            <Rectangle Canvas.Left="0" Canvas.Top="360" Width="860" Height="1" Fill="#BDC3C7"/>

            <!-- Финишная линия -->
            <Rectangle x:Name="FinishLine" Canvas.Left="820" Canvas.Top="0" Width="3" Height="360" Fill="#F39C12"/>

            <!-- Лошади (кнопки) -->
            <Button x:Name="Horse1" Content="🐴 1" Width="100" Height="60"
                    Canvas.Left="10" Canvas.Top="6"
                    Background="#E74C3C" Foreground="White" FontSize="20" FontWeight="Bold"
                    BorderThickness="2" BorderBrush="#C0392B"/>

            <Button x:Name="Horse2" Content="🐴 2" Width="100" Height="60"
                    Canvas.Left="10" Canvas.Top="78"
                    Background="#3498DB" Foreground="White" FontSize="20" FontWeight="Bold"
                    BorderThickness="2" BorderBrush="#2980B9"/>

            <Button x:Name="Horse3" Content="🐴 3" Width="100" Height="60"
                    Canvas.Left="10" Canvas.Top="150"
                    Background="#2ECC71" Foreground="White" FontSize="20" FontWeight="Bold"
                    BorderThickness="2" BorderBrush="#27AE60"/>

            <Button x:Name="Horse4" Content="🐴 4" Width="100" Height="60"
                    Canvas.Left="10" Canvas.Top="222"
                    Background="#F39C12" Foreground="White" FontSize="20" FontWeight="Bold"
                    BorderThickness="2" BorderBrush="#E67E22"/>

            <Button x:Name="Horse5" Content="🐴 5" Width="100" Height="60"
                    Canvas.Left="10" Canvas.Top="294"
                    Background="#9B59B6" Foreground="White" FontSize="20" FontWeight="Bold"
                    BorderThickness="2" BorderBrush="#8E44AD"/>
        </Canvas>

        <!-- Таблица результатов -->
        <Border Grid.Row="2" Background="#ECF0F1" Padding="15" Margin="10,0,10,10">
            <StackPanel>
                <TextBlock Text="📊 РЕЗУЛЬТАТЫ ГОНКИ"
                           FontSize="16"
                           FontWeight="Bold"
                           Foreground="#2C3E50"
                           HorizontalAlignment="Center"
                           Margin="0,0,0,10"/>
                <DataGrid x:Name="ResultsGrid"
                          AutoGenerateColumns="False"
                          Height="120"
                          IsReadOnly="True"
                          Background="White"
                          GridLinesVisibility="Horizontal"
                          HeadersVisibility="Column"
                          CanUserResizeColumns="False"
                          CanUserResizeRows="False"
                          SelectionMode="Single">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Место" Binding="{Binding Position}" Width="80"/>
                        <DataGridTextColumn Header="Лошадь" Binding="{Binding HorseName}" Width="150"/>
                        <DataGridTextColumn Header="Время (сек)" Binding="{Binding Time}" Width="120"/>
                        <DataGridTextColumn Header="Статус" Binding="{Binding Status}" Width="*"/>
                    </DataGrid.Columns>
                </DataGrid>
            </StackPanel>
        </Border>
    </Grid>
</Window>